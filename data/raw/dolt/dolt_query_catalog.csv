id,display_order,name,query,description
changes_other_than_expected,5,Changes other than expected,"select *, (select date_sub(max(to_observation_time), interval 1 day) from dolt_diff_cases where from_commit='osdf1o75cs42sbaa5mmoma8edkhghq7b' and to_commit='f4ucpbi9eeo4ebklql8b13lo5r6924pu') as max_expected_date from dolt_diff_cases where from_commit='osdf1o75cs42sbaa5mmoma8edkhghq7b' and to_commit='f4ucpbi9eeo4ebklql8b13lo5r6924pu' and (to_observation_time < max_expected_date or from_observation_time < max_expected_date)","This query returns unexpected changes between two commits. The cases table should only have new data from the last 24 hours from automated imports, otherwise old data has been amended. This query produces amended data if it exists."
confirmed_cases_at_timestamp,3,Confirmed Cases at Timestamp,"select country_region as country, province_state as state, max(observation_time) as last_updated, confirmed_count from cases natural join places where observation_time <= '2020-01-31 00:00:00' and confirmed_count is not null group by place_id order by confirmed_count desc",Query to retrieve the current confirmed cases at a timestamp. Replace confirmed_count with death_count or recovered_count to retrieve those counts instead. Left join all three queries together as seen in the current view to get a table with all three counts.
current_infected,7,Current Infected,"select country, state, `last updated`, (cases - deaths - recovered) as infected from current where infected > 0 order by infected desc",Reports the number of currently infected patients. Filters out places with no current infections
current_view,1,Current View,select * from current,"Retrieves the latest confirmed, death and recovered count"
last_two_automated_commits,6,Last two automated commits,select commit_hash as from_commit from dolt_log where message like 'Automated import%' order by date desc limit 2,Query to produce the last two automated commits
mortality_rate_by_age_range,9,Mortality Rate by Age Range,select * from mortality_rate_by_age_range,"Mortality rate by age range from the case_details data assembled from Singapore, Hong Kong, and South Korea. Age range is X to X+9."
mortality_rate_by_age_range_and_sex,10,Mortality rate by age range and sex,select * from mortality_rate_by_age_sex,"Mortality rate by age range and sex from the case_details data assembled from Singapore, Hong Kong, and South Korea. Age range is X to X+9."
mortality_rate_by_sex,8,Mortality Rate by Sex,select * from mortality_rate_by_sex,"Mortality rate by sex from the case_details data assembled from Singapore, Hong Kong, and South Korea"
mortality_rates,4,Mortality rates,select * from mortality_rates,Mortality rates for every place with reported cases.
time_series_view,2,Time Series View,select * from time_series,"Retrieves the time series view of the confirmed, death, and recovered counts"
